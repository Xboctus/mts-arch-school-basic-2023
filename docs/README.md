# Описание требований и архитектуры

## Введение
<!-- Общее краткое описание создаваемой системы -->
В рамках курса осуществляется проектирование решения на основе [постановки задачи от "заказчика"](./task.md).

- [Описание требований и архитектуры](#описание-требований-и-архитектуры)
  - [Введение](#введение)
  - [Заинтересованные стороны](#заинтересованные-стороны)
  - [Бизнес-контекст (бизнес-требования)](#бизнес-контекст-бизнес-требования)
  - [Глоссарий](#глоссарий)
  - [Модель предметной области](#модель-предметной-области)
  - [Требования к системе](#требования-к-системе)
    - [Сценарии использования (Use case)](#сценарии-использования-use-case)
    - [Функциональные требования](#функциональные-требования)
    - [Нефункциональные требования/Требования к атрибутам качества](#нефункциональные-требованиятребования-к-атрибутам-качества)
    - [Ограничения](#ограничения)
  - [Архитектура](#архитектура)
    - [Журнал архитектурных решений](#журнал-архитектурных-решений)
    - [Контекст решения](#контекст-решения)
    - [Компонентная архитектура](#компонентная-архитектура)
    - [Реализация сценариев использования](#реализация-сценариев-использования)
    - [Программные интерфейсы](#программные-интерфейсы)
    - [Схема развертывания](#схема-развертывания)
  
## Заинтересованные стороны
<!-- Перечень заинтересованных сторон и их интересов по отношению к создаваемой системе. 
Подробнее: https://confluence.mts.ru/pages/viewpage.action?pageId=399975538 
-->
| Заинтересованная сторона | Участники             | Интересы                                                                     | Точки зрения                                                                      |
|:-------------------------|:----------------------|:-----------------------------------------------------------------------------|:----------------------------------------------------------------------------------|
| Организатор              | Иванов Иван           | Удобство использования, Стоимость, Время создания решения                    | Диаграмма контекста                                                               |
| Слушатель                | Сидоров Сидор         | Удобство использования                                                       | Руководство участника                                                             |
| Докладчик                | Петров Петр           | Удобство использования, Производительность                                   | Руководство докладчика                                                            |
| Рецензент                | Алексеев Алексей      | Удобство использования                                                       | Руководство рецензента                                                            |
| Администратор            | Максимов Максим       | Удобство использования, Конфигурабельность                                   | Руководство администратора                                                        |
| Инженер эксплуатации     | Никифоров Никифор     | Удобство использования, Производительность, Конфигурабельность, Безопасность | Руководство технического администратора, Диаграмма развертывания                  |
| Архитектор               | Александров Александр | Архитектура решения, Ограничения, Требования                                 | Диаграмма контекста, Диаграмма компонентов, Диаграмма контейнеров, Диаграммы кода |

## Бизнес-контекст (бизнес-требования)
<!-- Общее описание бизнес-контекста создаваемой системы (автоматизируемой деятельности), список бизнес-целей заинтересованных сторон 
Подробнее: https://confluence.mts.ru/pages/viewpage.action?pageId=399973845
-->
### Предпосылки (текущее состояние)
Заказчику необходим инструмент для проведения технической конференции на регулярной основе. Форматы - онлайн и оффлайн.

### Цели и задачи
В рамках данного решения будет создана система, которая включает в себя следующие возможности:
* Работа с докладчиками - сбор и рецензирование докладов, обратная связь докладчикам
* Работа с расписаниями - составление и администрирование расписаний
* Проведение конференции - онлайн - инструмент для проведения онлайн трансляции и сбор обратной связи с пользователей
* Проведение конференции - оффлайн - инструменты для бронирования площадок и времени, интеграция с расписанием

### Бизнес-цели и результаты
Провести серию из 10+ конференций не менее, чем с 5 докладами в каждой и не менее, чем с 100 слушателями (онлайн + оффлайн).

### Сроки реализации
Создание системы необходимо завершить до планируемой даты первой конференции - 31 августа 2023 года.

### Область применения и границы
#### Область применения
* Целевая аудитория: специалисты сектора информационных технологий.
* География: Москва и область (оффлайн конференция), Российская Федерация (онлайн конференция)

#### Ограничения и допущения
* Онлайн трансляции подразумевают участие не более, чем 1000 человек
* Доклады для рецензирования принимаются в едином формате
* Доклады, принятые к рассмотрению, храняться без ограничения срока

## Глоссарий
<!-- Содержит основные понятия и термины предметной области  
Подробнее: https://confluence.mts.ru/pages/viewpage.action?pageId=375782595
-->
| Понятие         | Сокращение   | Определение                                                                                               |
|:----------------|:-------------|:----------------------------------------------------------------------------------------------------------|
| Доклад          | Report       | Общее описание свойств конкретного доклада, присланного на конференцию (включая артифакты самого доклада) |
| Артифакт        | Artifact     | Документ или видео, подготовленное в ходе обработки доклада                                               |
| Отзыв           | Review       | Документ, предоставляемый потенциальному докладчику в качестве обратной связи                             |
| Конференция     | Conference   | Отдельно взятая конференция                                                                               |
| Онлайн встреча  | OnlinePlace  | Детали бронирования онлайн встречи                                                                        |
| Оффлайн встреча | OfflinePlace | Детали бронирования оффлайн встречи                                                                      |

## [Модель предметной области](data/data.md)

## Требования к системе

### Сценарии использования (Use case)
<!-- Подробное описание сценариев использования системы с привязкой к ролям участников и задействованным бизнес-сущностям 
https://confluence.mts.ru/pages/viewpage.action?pageId=375782108 
https://confluence.mts.ru/pages/viewpage.action?pageId=375782119 
-->
#### Диаграмма сценариев использования (Use Case Diagram) <!-- omit in toc -->

```plantuml
@startuml
left to right direction
actor "Food Critic" as fc
rectangle Restaurant {
  usecase "Eat Food" as UC1
  usecase "Pay for Food" as UC2
  usecase "Drink" as UC3
}
fc --> UC1
fc --> UC2
fc --> UC3
@enduml
```

#### Список сценариев использования <!-- omit in toc -->

| ID     | Описание                                          |
|--------|---------------------------------------------------|
| UC.001 | *[Название сценария использования](uc/uc.001.md)* |

### Функциональные требования
<!-- Описание требований к функциям, реализуемым системой. Требование может быть привязано к сценарию использования или быть общим 
Подробнее: https://confluence.mts.ru/pages/viewpage.action?pageId=375782501 
-->
| ID     | Название требования                | Описание требование                                                                                                                                                                                                  |
|--------|------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| FR.001 | Прием докладов                     | Система должна предоставлять возможность приема докладов в едином формате с минимальной валидацией (технической) этого формата                                                                                       |
| FR.002 | Рецензирование докладов            | Система должна предоставлять возможность просмотра и составления рецензий на доклад, с отправкой рецензии докладчику                                                                                                 |
| FR.003 | Составление программы конференции  | Система должна предоставлять возможность выбора одобренных рецензентами докладов, и включения их в программу конференции                                                                                             |
| FR.004 | Составление расписаний конференции | Система должна предоставлять возможность автоматического составления расписания конференции, с последующими ручными правками. При составлении расписания должны быть учтены параметры конфигурации (перерывы и т.д.) |
| FR.005 | Тестовый прогон докладов           | Система должна предоставлять возможность в режиме онлайн собирать мини-конференции для тестового прогона докладов на ограниченную аудиторию (рецензенты).                                                            |
| FR.006 | Онлайн трансляция конференции      | Система должна предоставлять возможность транслировать конференцию в режиме онлайн для зарегистрированных слушателей.                                                                                                |
| FR.007 | Управление площадкой               | Система должна предоставлять возможность вносить информацию о площадке проведения и её администрирование (заказ пропусков, регистрация участников)                                                            |

### Бизнес-метрики
| ID     | Бизнес метрика          | Значение метрики | Описание метрики                                                                                     |
|--------|-------------------------|-----------------|------------------------------------------------------------------------------------------------------|
| BT.001 | Пользователи онлайн     | .>= 100         | Количество поддерживаемых одновременных онлайн слушателей                                            |
| BT.002 | Варианты расписания     | .>= 10          | Количество поддерживаемых вариантов расписания для одной конференции                                 |
| BT.003 | История конференций     | .>= 10          | Количество исторических конференций, детали по которым можно посмотреть (включая артифакты докладов) |
| BT.004 | Доклады                 | .>= 100         | Количество докладов, которые можно будет просмотреть в рамках подготовки к одной конференции         |
| BT.005 | Внутренние пользователи | .>= 10          | Количество поддерживаемых одновременных онлайн пользователей (докладчик, рецензент, администратор)   |

### Нефункциональные требования/Требования к атрибутам качества
<!-- Требования к основным архитектурным характеристикам (атрибутам качества) системы - надежность, масштабируемость, ИБ, и др.
Подробнее: https://confluence.mts.ru/pages/viewpage.action?pageId=375782530
-->
| ID     | Атрибут качества                         | Описание требования                                                                                                       | Связанный сценарий использования |
|--------|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|--------------------------------|
| QR.001 | Онлайн пользователи (производительность) | Система должна поддерживать не менее 100 онлайн слушателей во время проведения конференции                                | QAS.001                        |
| QR.002 | Аутентификация и авторизация             | Система должна поддерживать возможность различать роли пользователей и предоставлять соответсвующий функционал            | QAS.001, QAS.002               |
| QR.003 | Хранение данных (надежность)             | Система должна поддерживать хранение данных по конференциям неограниченное время                                          | QAS.003                        |
| QR.004 | Доступность данных (надежность)          | Система должна поддерживать возможность восстановления данных о конференции и докладах (без потери сохраненных изменений) | QAS.004                        |
| QR.005 | Доступность системы                      | Система должна иметь доступность 95% в рамках подготовки докладов, 99.99% - в рамках проведения конференции               | QAS.005, QAS.006               |

#### Сценарии атрибутов качества 
| ID      | Название сценария                        | Статус  | Атрибут(ы) качества                       | Источник                                                              | Воздействие                             | Артефакт                   | Условия / среда                             | Реакция / отклик                                                                        | Мера реакции                                                                                                                                 |
|---------|------------------------------------------|---------|-------------------------------------------|-----------------------------------------------------------------------|-----------------------------------------|----------------------------|---------------------------------------------|-----------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| QAS.001 | Онлайн пользователи во время конференции | Принято | Онлайн пользователи | Слушатели                                                             | Слушатель присоединился к конференции   | Система видеоконференций | Конференция в системе начата                | Система позволяет пользователю просматривать онлайн конференцию                         | Количество уникальных онлайн пользователей во время конференции, которые могут к ней подключиться                                            |
| QAS.002 | Разграничение ролей                      | Принято | Аутентификация и авторизация  | Слушатели, Докладчики, Рецензенты, Администраторы, Инженеры поддержки | Пользователь входит в систему           | Система конференций | Любой момент работы системы                 | Система позволяет пользователю получить доступ к интерфейсу в зависимости от роли       | Каждому пользователю в системе присвоена роль, запрещен анонимный и неавторизованный доступ                                                  |
| QAS.003 | Хранение данных                          | Принято | Хранение данных (надежность)  | Слушатели, Докладчики, Рецензенты, Администраторы, Инженеры поддержки | Пользователь сохраняет данные           | Система конференций | Любой момент работы системы                 | Система сохраняет данные в персистентное хранилище                                      | В любой момент времени пользователи могут получить доступ ко всем историческим данным                                                        |
| QAS.004 | Доступность данных (надежность)          | Принято | Доступность данных (надежность) | Слушатели, Докладчики, Рецензенты, Администраторы | Любой момент работы системы  | Система конференций | Любой момент работы системы | Система сохраняет целостность данных и их историчность                                  | В случае ситуации потери данных непосредственно в системе, система имеет возможность восстановить данные, которые были сохранены, из бэкапа. |
| QAS.005 | Доступность системы          | Принято | Доступность системы   | Докладчики, Рецензенты, Администраторы | Пользователь работает с докладами       | Система конференций | Любой момент работы системы                 | Система позволяет пользователю совершать действия через интерфейс в соответсвии с ролью | Система доступна пользователям в соответсвии с метриками надежности 95%                                                                      |
| QAS.006 | Доступность системы          | Принято | Доступность системы | Слушатели, Докладчики, Рецензенты, Администраторы | Пользователь подключается к конференции | Система конференций | Конференция в системе начата и не завершена | Система позволяет пользователю получить доступ к интерфейсу в зависимости от роли       | истема доступна пользователям в соответсвии с метриками надежности 99.99%                                                                    |


### Ограничения
<!-- Описываются ограничения, оказывающие влияние на архитектуру системы - временные, финансовые, технологические
Подробнее: https://confluence.mts.ru/pages/viewpage.action?pageId=375782592
-->
| ID     | Ограничение                  | Ограничение                                                                                                  |
|--------|------------------------------|--------------------------------------------------------------------------------------------------------------|
| AC.001 | Испльзование SQL базы данных | С учётом огранниченного количества пользователей и необходимости строгой структурированности хранимых данных |

## Архитектура

### Журнал архитектурных решений
<!-- Записи о ключевых принятых архитектурных решениях (ADR) для реализации архитектурно-значимых требований.
Подробнее: https://confluence.mts.ru/pages/viewpage.action?pageId=421162308
-->
- [ADR.NNN Суть решения](adr/adr-storage.md)

### [Контекст решения](context/context.md)

### [Компонентная архитектура](components/components.md)

### Реализация сценариев использования
<!-- Реализация сценариев использования на основе взаимодействия компонентов системы и внешних систем/участников.
Диаграммы последовательности (UML Sequence diagram) и текстовое описание.

Подробнее: 
https://confluence.mts.ru/pages/viewpage.action?pageId=399442132
https://confluence.mts.ru/pages/viewpage.action?pageId=399442170
-->
| ID     | Описание                          | Реализация                                    |
|--------|-----------------------------------|-----------------------------------------------|
| UC.001 | *Название сценария использования* | [Реализация сценария](uc-impl/uc.001-impl.md) |

### Программные интерфейсы
<!-- Спецификации публичных API системы и ее компонентов (синхронных, событийных). Создается на основе модели предметной области для реализации сценариев использования. 
  Форматы: OAS/Swagger, GraphQL, AsyncAPI/CloudEvents
-->
| Компонент             | Интерфейс                                      |
|:----------------------|:-----------------------------------------------|
| *Название компонента* | *[Название интерфейса](api/service-name.yaml)* |

### [Схема развертывания](deployment/deployment.md)
